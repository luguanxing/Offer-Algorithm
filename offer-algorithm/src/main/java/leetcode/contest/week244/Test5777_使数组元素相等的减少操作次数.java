package leetcode.contest.week244;

import java.util.*;

public class Test5777_使数组元素相等的减少操作次数 {

    public static void main(String[] args) {
        System.out.println(new Solution().reductionOperations(new int[]{5, 1, 3}));
        System.out.println(new Solution().reductionOperations(new int[]{1, 1, 1}));
        System.out.println(new Solution().reductionOperations(new int[]{1, 1, 2, 2, 3}));
        System.out.println(new Solution().reductionOperations(new int[]{29890, 28272, 14331, 4156, 4437, 43645, 41544, 16496, 21515, 25694, 24142, 38115, 21389, 28203, 33858, 40674, 39233, 42684, 4634, 12466, 26978, 22783, 34521, 48317, 32586, 22714, 45436, 7824, 29322, 21581, 570, 14764, 19932, 26927, 43789, 44468, 9172, 12551, 18228, 46223, 33357, 40373, 3032, 10637, 38015, 20320, 3733, 43294, 7292, 17416, 41817, 38626, 7317, 11777, 46291, 41963, 36583, 29635, 37348, 16241, 30706, 28244, 3577, 9234, 32300, 23584, 32968, 19121, 48769, 24604, 5834, 37089, 28647, 8510, 44893, 45651, 33352, 15281, 28049, 31902, 4107, 38714, 47398, 23705, 34871, 34123, 12132, 4064, 46287, 13371, 12422, 1217, 22746, 15573, 15652, 46501, 34532, 34501, 42577, 26920, 36591, 27197, 10828, 15384, 52, 14395, 33452, 34911, 3720, 42968, 10184, 35962, 5915, 1620, 9325, 35692, 17461, 15047, 23645, 21796, 47906, 9031, 6146, 16767, 27042, 23305, 38917, 2782, 35947, 4073, 44125, 30034, 2479, 47909, 41726, 20609, 20408, 19676, 44239, 48580, 25540, 20107, 25228, 31620, 19310, 44060, 7858, 38342, 45039, 42655, 743, 46825, 6931, 27787, 4824, 13669, 8066, 41340, 618, 16098, 30752, 4645, 13939, 22338, 14080, 19404, 18725, 30481, 30481, 45640, 36589, 37562, 46786, 33387, 13791, 45586, 30333, 24673, 5474, 48097, 2022, 4836, 19718, 47322, 40756, 29450, 13425, 47204, 19351, 27155, 12121, 42110, 39761, 43629, 25868, 24577, 47708, 30346, 14506, 16166, 32354, 924, 19177, 17588, 31073, 32342, 23072, 49451, 7173, 38876, 47351, 45425, 43911, 49165, 7859, 14029, 45162, 29263, 25432, 14091, 27598, 4043, 47764, 11533, 49885, 46014, 44778, 25332, 27860, 24482, 34447, 9288, 4455, 33538, 46663, 10470, 2947, 38153, 13903, 49783, 32949, 35622, 47332, 30496, 42930, 20320, 19724, 31164, 8832, 1378, 46355, 29569, 28424, 43821, 44178, 37927, 22614, 28556, 46647, 23809, 14278, 17712, 13325, 43814, 30221, 37826, 31052, 17788, 45026, 40857, 27225, 18648, 18150, 29088, 4314, 7286, 21315, 29343, 44695, 44381, 18825, 34006, 14871, 33361, 20986, 16270, 10164, 10290, 16668, 46406, 16263, 26986, 1980, 44164, 28135, 26090, 14769, 8913, 4713, 5560, 10830, 30719, 39467, 47660, 24871, 14411, 19146, 39572, 25641, 17587, 520, 18601, 9818, 7876, 48630, 28245, 18461, 48413, 43947, 19721, 45122, 27440, 36318, 4010, 43395, 48836, 44689, 9745, 6381, 10850, 33972, 31946, 28381, 7270, 3770, 23507, 42374, 20855, 20136, 2360, 20070, 29569, 2064, 22554, 18641, 36624, 41130, 13934, 17267, 49103, 17947, 11059, 18805, 33526, 22166, 36398, 5886, 45577, 2335, 8435, 8623, 25147, 21174, 22214, 30870, 10973, 19200, 1791, 49416, 17387, 1156, 35613, 41804, 40156, 37284, 1515, 27549, 35344, 30402, 1593, 40509, 33372, 25501, 6961, 8160, 37633, 37323, 1081, 25147, 5858, 32722, 14077, 23190, 38369, 2130, 26853, 30937, 35540, 20920, 12406, 550, 8332, 30926, 30855, 16421, 28334, 41373, 33755, 6593, 27276, 29657, 36135, 33839, 19342, 6103, 3411, 27769, 10086, 22999, 12988, 5425, 29911, 23709, 7262, 38827, 39714, 21707, 43271, 6608, 13338, 39475, 20819, 10399, 10519, 21654, 5348, 13673, 48951, 19217, 36503, 38232, 4314, 32158, 37031, 30229, 32781, 29135, 25306, 23861, 34299, 41777, 34415, 31128, 11426, 44489, 9341, 23, 11479, 20217, 11615, 42705, 41907, 9832, 13594, 8807, 45453, 15984, 29980, 9047, 5557, 31746, 33191, 35918, 25532, 25844, 40021, 41884, 48982, 27794, 35668, 42356, 33030, 44662, 45030, 28584, 30841, 18359, 31293, 8218, 43921, 43432, 12963, 24774, 2305, 17980, 39977, 9207, 28846, 14257, 10167, 25580, 28988, 41135, 44130, 4051, 22775, 46404, 14806, 43703, 10232, 18724, 38847, 44555, 37281, 32095, 21679, 10033, 39408, 41624, 47525, 4225, 43272, 40495, 25782, 43954, 4793, 4861, 15, 1970, 43660, 4919, 5723, 8592, 35939, 16485, 4030, 13658, 28229, 22133, 44693, 18255, 43407, 23293, 13122, 44968, 10387, 26855, 5253, 23222, 7556, 27705, 29539, 21859, 32911, 6657, 673, 43326, 3668, 9714, 26722, 39304, 46728, 13835, 13226, 4468, 43889, 10501, 29847, 33669, 1554, 21435, 45867, 40480, 19301, 43166, 20340, 10049, 29646, 3431, 2876, 18881, 10446, 1600, 40892, 20693, 1561, 9696, 16527, 6992, 15303, 16811, 42874, 37471, 32417, 32707, 12574, 5072, 8580, 18718, 1976, 42128, 15465, 10321, 44509, 11464, 15961, 38794, 40431, 30155, 7041, 225, 12819, 37205, 23960, 42710, 41734, 11182, 17703, 6209, 5286, 19684, 15206, 24693, 19509, 35720, 8895, 19746, 9132, 19512, 34982, 7898, 19620, 34288, 6583, 13678, 28839, 26189, 41944, 49372, 6409, 1990, 25911, 31245, 42053, 505, 19260, 45486, 30760, 30722, 24186, 11807, 13719, 31276, 35923, 13079, 34012, 48350, 35021, 42064, 14842, 9031, 28356, 45762, 48997, 13013, 46980, 23899, 32201, 14934, 3188, 16098, 7534, 23801, 4374, 45596, 2793, 13932, 28308, 21698, 48298, 26675, 29450, 28952, 30174, 43065, 39030, 48888, 40390, 42832, 42204, 29430, 24321, 2571, 13343, 44663, 17010, 8539, 33954, 49682, 48457, 7095, 49850, 27203, 13107, 21470, 6757, 343, 48355, 42070, 14633, 13008, 47077, 25180, 12776, 19859, 20250, 43231, 24538, 15249, 1856, 44470, 16363, 39100, 18183, 19986, 11885, 43646, 45891, 7496, 970, 22802, 47754, 10120, 45537, 37081, 49183, 25536, 32187, 29828, 44942, 7364, 14816, 39283, 23017, 4046, 5382, 15821, 11255, 12929, 28026, 9212, 48941, 24814, 26273, 38513, 23079, 5392, 2439, 35848, 29846, 37589, 23175, 18865, 46058, 24386, 48758, 21564, 24519, 721, 7490, 25353, 19772, 17916, 3832, 43867, 49893, 33529, 31443, 18118, 3423, 32222, 20824, 46199, 28071, 48378, 29865, 38131, 36808, 33599, 14430, 11177, 33522, 2702, 26277, 16811, 12574, 20628, 13200, 48518, 7327, 40170, 10961, 27564, 27635, 37082, 16575, 39784, 47528, 8463, 6082, 16909, 15711, 46032, 18313, 37394, 12053, 29700, 27894, 1109, 9473, 20008, 33441, 9080, 9309, 26969, 2401, 30614, 33255, 49147, 32478, 33927, 47556, 2930, 25358, 6948, 45174, 48011, 19275, 27093, 30367, 7042, 42914, 34894, 28001, 26899, 1747, 17203, 39374, 4055, 19096, 16999, 21320, 33160, 1881, 9182, 35643, 3601, 14307, 20708, 48579, 6368, 10742, 19783, 48746, 27059, 34052, 9393, 5199, 34309, 32490, 34143, 4131, 27905, 23956, 41210, 9802, 30182, 26623, 40080, 21479, 44612, 18482, 32675, 36354, 5090, 34724, 8855, 1181, 41452, 5764, 13449, 39901, 38994, 45675, 23839, 31454, 33778, 9723, 11456, 46028, 8704, 27830, 49791, 2980, 4889, 23336, 41841, 48558, 45576, 20447, 44872, 16462, 47405, 23620, 24249, 20322, 26656, 26123, 31189, 28724, 24141, 21376, 40852, 45912, 27046, 9930, 8703, 45913, 31313, 16411, 41747, 45478, 16572, 27996, 37855, 30903, 39666, 3181, 19279, 34763, 32330, 22588, 32446, 8612, 29286, 9501, 42487, 45576, 31085, 9909, 15250, 21831, 4593, 44738, 36266, 36872, 38524, 23936, 11139, 27525, 40999, 26864, 19947, 17681, 14469, 40428, 659, 42959, 31445, 23428, 5309, 17217, 31846, 47150, 25748, 30106, 2991, 27997, 16587, 31938, 34748, 9801, 21104, 9720, 13499, 48214, 24987, 7978, 7266, 21061, 9418, 30738, 41175, 34142, 29433, 34470, 10120, 32375, 10216, 3986, 12415, 46171, 26122, 21917, 42190, 48513, 16959, 31987, 18962, 2422, 28569, 5274, 14064, 1749, 37718, 20973, 26525, 19114, 16129, 19677, 28302, 22937, 28950, 21259, 44646, 48882, 18198, 7892, 44226, 24365, 2227, 18924, 13321, 47533, 38518, 7126, 39497, 48035, 16929, 1111, 16909, 21899, 7236, 26121, 30198, 19327, 35794, 18327, 24428, 9466, 32257, 3777, 6844, 24829, 29126, 20516, 454, 30590, 41234, 15414, 8939, 20552, 9829, 13362, 31799, 11262, 18448, 22577, 14369, 42437, 45825, 43797, 13597, 40273, 4013, 39575, 29785, 18080, 43985, 44380, 30373, 30210, 30785, 23933, 27998, 27717, 4474, 14752, 22578, 3640, 21299, 6814, 43819, 25137, 35726, 46849, 45458, 32760, 21685, 9343, 13309, 4488, 17584, 32561, 31886, 30709, 20881, 30506, 35625, 5250, 32273, 39122, 18360, 47724, 35786, 42285, 7436, 46373, 37444, 8634, 27298, 6106, 48660, 9473, 25054, 6309, 27769, 48049, 36499, 14303, 9609, 251, 36688, 44491, 40466, 7372, 6647, 5371, 42297, 21650, 8150, 44368, 38208, 36651, 42172, 24535, 27313, 44769, 25857, 4891}));
    }

    static class Solution {
        public int reductionOperations(int[] nums) {
            Arrays.sort(nums);
            int res = 0;
            for (int i = nums.length - 2; i >= 0; i--) {
                if (nums[i] != nums[i + 1]) {
                    // 将i后面全部变成nums[i]
                    res += nums.length - 1 - i;
                }
            }
            return res;
        }
    }

    static class Solution_TLE {
        public int reductionOperations(int[] nums) {
            Map<Integer, Integer> map = new TreeMap<>(Comparator.reverseOrder());
            for (int num : nums) {
                map.put(num, map.getOrDefault(num, 0) + 1);
            }
            int res = 0;
            while (map.size() > 1) {
                List<Integer> list = new ArrayList<>(map.keySet());
                Integer currentMax = list.get(0);
                Integer nextMax = list.get(1);
                map.put(currentMax, map.get(currentMax) - 1);
                if (map.get(currentMax) == 0) {
                    map.remove(currentMax);
                }
                map.put(nextMax, map.get(nextMax) + 1);
                res++;
            }
            return res;
        }
    }

}
